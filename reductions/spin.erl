-module(spin).

-export([function1_n/1, function1/0, run_measure_external/1, run_measure_external_n/1, run_measure_function_n/1, spin/0]).

run_measure_external(N) ->
    measure:measure_external(spin,function1_n,N).

run_measure_external_n(N) ->
    measure:measure_external_n(spin,function1,N).

run_measure_function_n(N) ->
    measure:measure_function_n(fun function1/0,N).

function1_n(0) ->
    ok;
function1_n(N) ->
    function1(),
    function1_n(N-1).

function1() ->
    ok.

%% spin(X) when is_integer(X) ->
%%     spin([X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X]);
%% spin([0,0,0,0,0,0,0,0,0,0,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10]) ->
%%     spin([X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10]);
%% spin([Y1,Y2,Y3,Y4,Y5,Y6,Y7,Y8,Y9,Y10,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10]) ->
%%     spin([Y1-1,Y2-1,Y3-1,Y4-1,Y5-1,Y6-1,Y7-1,Y8-1,Y9-1,Y10-1,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10]).

spin() ->
    spin(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0).
spin(0,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_,_) ->
    spin(2000,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
spin(Count,X1,X2,X3,X4,X5,X6,X7,X8,X9,X10,X11,X12,X13,X14,X15,X16,X17,X18,X19,X20) ->
    Y1=X1+1,Y2=X2+1,Y3=X3+1,Y4=X4+1,Y5=X5+1,Y6=X6+1,Y7=X7+1,Y8=X8+1,Y9=X9+1,Y10=X10+1,Y11=X11+1,Y12=X12+1,Y13=X13+1,Y14=X14+1,Y15=X15+1,Y16=X16+1,Y17=X17+1,Y18=X18+1,Y19=X19+1,Y20=X20+1,
    Z1=Y1+1,Z2=Y2+1,Z3=Y3+1,Z4=Y4+1,Z5=Y5+1,Z6=Y6+1,Z7=Y7+1,Z8=Y8+1,Z9=Y9+1,Z10=Y10+1,Z11=Y11+1,Z12=Y12+1,Z13=Y13+1,Z14=Y14+1,Z15=Y15+1,Z16=Y16+1,Z17=Y17+1,Z18=Y18+1,Z19=Y19+1,Z20=Y20+1,
    A1=Z1+1,A2=Z2+1,A3=Z3+1,A4=Z4+1,A5=Z5+1,A6=Z6+1,A7=Z7+1,A8=Z8+1,A9=Z9+1,A10=Z10+1,A11=Z11+1,A12=Z12+1,A13=Z13+1,A14=Z14+1,A15=Z15+1,A16=Z16+1,A17=Z17+1,A18=Z18+1,A19=Z19+1,A20=Z20+1,
    B1=A1+1,B2=A2+1,B3=A3+1,B4=A4+1,B5=A5+1,B6=A6+1,B7=A7+1,B8=A8+1,B9=A9+1,B10=A10+1,B11=A11+1,B12=A12+1,B13=A13+1,B14=A14+1,B15=A15+1,B16=A16+1,B17=A17+1,B18=A18+1,B19=A19+1,B20=A20+1,
    C1=B1+1,C2=B2+1,C3=B3+1,C4=B4+1,C5=B5+1,C6=B6+1,C7=B7+1,C8=B8+1,C9=B9+1,C10=B10+1,C11=B11+1,C12=B12+1,C13=B13+1,C14=B14+1,C15=B15+1,C16=B16+1,C17=B17+1,C18=B18+1,C19=B19+1,C20=B20+1,
    D1=C1+1,D2=C2+1,D3=C3+1,D4=C4+1,D5=C5+1,D6=C6+1,D7=C7+1,D8=C8+1,D9=C9+1,D10=C10+1,D11=C11+1,D12=C12+1,D13=C13+1,D14=C14+1,D15=C15+1,D16=C16+1,D17=C17+1,D18=C18+1,D19=C19+1,D20=C20+1,
    E1=D1+1,E2=D2+1,E3=D3+1,E4=D4+1,E5=D5+1,E6=D6+1,E7=D7+1,E8=D8+1,E9=D9+1,E10=D10+1,E11=D11+1,E12=D12+1,E13=D13+1,E14=D14+1,E15=D15+1,E16=D16+1,E17=D17+1,E18=D18+1,E19=D19+1,E20=D20+1,
    F1=E1+1,F2=E2+1,F3=E3+1,F4=E4+1,F5=E5+1,F6=E6+1,F7=E7+1,F8=E8+1,F9=E9+1,F10=E10+1,F11=E11+1,F12=E12+1,F13=E13+1,F14=E14+1,F15=E15+1,F16=E16+1,F17=E17+1,F18=E18+1,F19=E19+1,F20=E20+1,
    G1=F1+1,G2=F2+1,G3=F3+1,G4=F4+1,G5=F5+1,G6=F6+1,G7=F7+1,G8=F8+1,G9=F9+1,G10=F10+1,G11=F11+1,G12=F12+1,G13=F13+1,G14=F14+1,G15=F15+1,G16=F16+1,G17=F17+1,G18=F18+1,G19=F19+1,G20=F20+1,
    H1=G1+1,H2=G2+1,H3=G3+1,H4=G4+1,H5=G5+1,H6=G6+1,H7=G7+1,H8=G8+1,H9=G9+1,H10=G10+1,H11=G11+1,H12=G12+1,H13=G13+1,H14=G14+1,H15=G15+1,H16=G16+1,H17=G17+1,H18=G18+1,H19=G19+1,H20=G20+1,
    I1=H1+1,I2=H2+1,I3=H3+1,I4=H4+1,I5=H5+1,I6=H6+1,I7=H7+1,I8=H8+1,I9=H9+1,I10=H10+1,I11=H11+1,I12=H12+1,I13=H13+1,I14=H14+1,I15=H15+1,I16=H16+1,I17=H17+1,I18=H18+1,I19=H19+1,I20=H20+1,
    spin(Count-1,I1+1,I2+1,I3+1,I4+1,I5+1,I6+1,I7+1,I8+1,I9+1,I10+1,I11+1,I12+1,I13+1,I14+1,I15+1,I16+1,I17+1,I18+1,I19+1,I20+1).
